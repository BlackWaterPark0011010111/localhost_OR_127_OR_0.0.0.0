# localhost_OR_127_OR_0.0.0.0
//////////////////////
RUS
//////////////////////
Хост - это вообще любое устройство в сети. это и сервера и принтеры и смартфоны и пк. у каждого свой идентификатор. с его помощью все они и общаются в сети. и этот адрес - это IP адрес. и по команде ipconfig(windows),ifconfig,ip addr(mac,linux) мы смотрим интерфейсы. у нас есть 2 основных интерфейса, по беспроводной сети(роутер,en0) и локальная сеть(непосредственно по кабелю,eth0-если бы вы через провод были бы подключены), и loopback(lo0). Интерфейс loopback, он указывает на свою же хостовую машину,а там адрес = 127.0.0.1.то есть какие бы запросы не были отправлены,они будут замкнуты на этот же самый компьютер. то есть наша операционная система видит что у нас пошел запрос на подключение и потом идет выбор между каким интерфейсом мы будем обрабатывать и отправлять.
по расположению файла хост:
"C:\Windows\System32\drivers\etc\hosts" -windows
"/private/etc/hosts" - macOS
"/etc/hosts" - Linux

если ввести в терминале эти адреса,то у вас всплывет окно с запросом о том, каким приложением открыть этот файл. и при выборе вы увидите всю информацию которую содержит этот файл.
и какой алгоритм и каким образом этот файл используется в системе. например если мы в поисковой строке,в браузере введем - "localhost". он автоматически идет в файл hosts и смотрит есть ли у нас какой-то ip адрес,который там определен,а если там будет не найдено,то идет запрос к DNS серверу,потом следует ответ DNS. и если будет ошибка - то это ошибка резолвинга, а если успех то возврат IP. то есть мы можем дописывать свой файл hosts, определенные свои имена которые будут резолвиться на какой-то определенный адрес, то есть мы создаем альтернативу localhost, или если есть home server`а, мы можем задать доменные имена,которые будут резолвить наш пк.на тему 0.0.0.0 - если мы обратимся к нашей сети непосредственно,к нашей сети, и если мы работаем с приложением, то браузер не сможет его открыть,не сможет открыть ссылку, потому что любое приложение с которым мы работаем,оно доступно только в рамках нашего сетевого интерфейса,loopback, то есть локалхоста, и для того чтобы приложение было доступно по другим сетевым интерфейсам, и к нашему приложению могли подключиться другие пользователи мы изменяем настройку запуска сервера и прописываем туда 0.0.0.0 и при обновлении мы увидим что наше приложение снова доступно. Когда мы запускаем приложение на 4х нулях,оно становится доступно на всех сетевых интерфейсах,соответственно мы можем подключаться со всех внешних ip адресов к нашему приложению, НО! в таком случае нам нужно предусмотреть настройки по безопасности.но тут понятно что 127.0.0.1- нет смысла резолвить в хост. если мы удалим эту запись в файле,то localhost перестанет работать а 127.0.0.1 - будет работать всегда,поэтому чисто технически,чуть больше смысла есть локально разрабатывать на 127,потому что у нас нет подвязки к каким-то внешним сущностям,внешним резолвам. На счет докера, то что это обособленная среда и он поднимается в виртуальной сети, если у нас есть докер,значит наше приложение должно быть запущено на 0.0.0.0. в вашем приложении есть скрипт,который запускает сервер, и unicorn,будет запускать его на 4х нулях по вашему порту,НО! и при запуске приложения,в настройках,например databases или какие-то внешние сервисы,и если посмотреть на настройку базы данных, у нас есть база данных,которая доступна по хосту по умолчанию будет localhost, то есть есть отдельно ваше приложение и ваша база данных и для контейнера - localhost- это его локальная машина и он не знает адреса postgres или любого другого внешнего сервиса. Мы указываем конкретный адрес на котором поднято приложение. и если наш докер контейнер должен обращаться к нашей хостовой машине.то есть к его локал хосту,вместо localhost -- host.docker.internal нужно использовать

///////////////////////
ENG
///////////////////////
A host is any device on a network - servers, printers, smartphones, PCs. Each has its own identifier. This is how they all communicate on the network, and this address is the IP address. With the commands ipconfig (Windows), ifconfig, ip addr (Mac, Linux) we look at the interfaces. We have 2 main interfaces - wireless (router, en0) and local network (directly via cable, eth0 - if you were connected via wire), and loopback (lo0). The loopback interface points to the host machine itself, with the address 127.0.0.1. So any requests sent will be looped back to the same computer. Our operating system sees that we have a connection request and then chooses which interface to use for processing and sending.

Host file locations:
"C:\Windows\System32\drivers\etc\hosts" - Windows
"/private/etc/hosts" - macOS
"/etc/hosts" - Linux
       
If you enter these addresses in terminal, a window will pop up asking which application to open the file with. When you choose, you'll see all the information contained in this file and how the system uses it. For example, if we enter "localhost" in a browser's search bar, it automatically checks the hosts file to see if there's a defined IP address there. If nothing is found, it sends a request to the DNS server, then receives a DNS response. If there's an error - it's a resolution error, if successful - it returns the IP. So we can edit our hosts file, add custom names that will resolve to specific addresses - we're creating an alternative to localhost, or if we have a home server, we can set domain names that will resolve to our PC.
  
About 0.0.0.0 - if we access our network directly and work with an application, the browser won't be able to open the link because any application we work with is only available within our network interface, loopback (localhost). To make the application available on other network interfaces so other users can connect to it, we change the server startup settings and specify 0.0.0.0 there. After refreshing, we'll see our application available again. When we run an application on all zeros (0.0.0.0), it becomes available on all network interfaces, meaning we can connect to our application from all external IP addresses. BUT! In this case we need to consider security settings.
   
It's clear that 127.0.0.1 makes no sense to resolve in hosts. If we delete this entry in the file, localhost will stop working but 127.0.0.1 will always work. So technically, it makes slightly more sense to develop locally on 127 because we don't have dependencies on any external entities/resolutions.

Regarding Docker - it's an isolated environment running in a virtual network. If we have Docker, our application should run on 0.0.0.0. Your application has a script that starts the server, and Unicorn will run it on all zeros (0.0.0.0) on your port. BUT! When launching the application, in the settings (like databases or other external services), if we look at the database settings - we have a database available by host, which by default is localhost. That is, there's your application and your database separately. For the container - localhost is its local machine and it doesn't know the address of Postgres or any other external service. We specify the exact address where the application is running. If our Docker container needs to access our host machine (its localhost), instead of localhost we need to use host.docker.internal.